# Tg-bot


A private, caring Telegram Bot. This bot provides weather information, jokes, and personalized messages using the Gemini AI.

## Badges

[![License: ISC](https://img.shields.io/badge/License-ISC-yellow.svg)](https://opensource.org/licenses/ISC)

## Table of Contents

- [Features](#features)
- [Tech Stack](#tech-stack)
- [Installation](#installation)
- [Usage](#usage)
- [How to Use](#how-to-use)
- [Project Structure](#project-structure)
- [Contributing](#contributing)
- [License](#license)
- [Footer](#footer)

## Features

*   **Telegram Bot Integration:** Uses the `node-telegram-bot-api` to interact with the Telegram Bot platform. ü§ñ
*   **Gemini AI Integration:** Leverages `@google/genai` for generating caring messages, jokes, and handling conversations. üß†
*   **Weather Information:** Fetches weather data using the OpenWeatherMap API via `axios`. ‚òÄÔ∏è
*   **Cron Job Scheduling:** Uses `node-cron` to schedule daily messages. ‚è∞
*   **User Data Storage:** Manages user chat IDs using file-based storage (`data_store.js`). üíæ
*   **Customizable Settings:** Allows setting a fixed city and birthday for personalized messages. ‚öôÔ∏è
*   **Burmese Language Support:** Generates messages in Burmese, tailored with cultural context. üá≤üá≤

## Tech Stack

*   **Language:** JavaScript
*   **Framework:** Node.js
*   **Dependencies:**
    *   `@google/genai`: For Google Gemini AI integration
    *   `axios`: For making HTTP requests (e.g., to weather API)
    *   `dotenv`: For loading environment variables from `.env` file
    *   `mongoose`: For MongoDB interaction
    *   `node-cron`: For scheduling tasks
    *   `node-telegram-bot-api`: For creating Telegram bots

## Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/gwjq62862/Tg-bot.git
    cd Tg-bot
    ```
2.  **Install dependencies using pnpm:**
    ```bash
    pnpm install
    ```
    *Note: The project uses `pnpm` as the package manager. If you don't have it, install it globally using `npm install -g pnpm`.*

3.  **Set up environment variables:**
    *   Create a `.env` file in the project root.
    *   Add the following environment variables:
        ```
        TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
        GEMINI_API_KEY=YOUR_GEMINI_API_KEY
        WEATHER_API_KEY=YOUR_WEATHER_API_KEY
        WEATHER_UNIT=metric # or imperial
        ```
        *   Replace `YOUR_TELEGRAM_BOT_TOKEN`, `YOUR_GEMINI_API_KEY`, and `YOUR_WEATHER_API_KEY` with your actual API keys.

## Usage

1.  **Start the bot in development mode:**
    ```bash
    pnpm dev
    ```
    This command uses `node --watch index.js` which will automatically restart the server on file changes.

2.  **Start the bot in production mode:**
    ```bash
    pnpm start
    ```
    This command uses `node index.js`.

3.  **Interact with the bot on Telegram:**
    *   Use the `/start` command to register for daily messages.
    *   Use the `/help` command to see a list of available commands.
    *   Use the `/weather` command to get the current weather in the configured city.
    *   Use the `/joke` command to receive a joke.
    *   Use the `/myinfo` command to view configured settings.

## How to Use

This Telegram bot is designed to provide a caring and personalized experience, primarily for delivering weather updates, jokes, and birthday wishes. It uses the Gemini AI to generate thoughtful messages.

**Real-world Use Cases:**

*   **Daily Greetings:** The bot sends daily weather updates and caring messages to registered users at 7:00 AM (Asia/Yangon timezone). This can serve as a friendly and informative start to the day. ‚òÄÔ∏è
*   **Birthday Wishes:** On a user's birthday, the bot sends a personalized birthday wish generated by the Gemini AI. üéÇ
*   **On-Demand Information:** Users can request weather information and jokes at any time using the `/weather` and `/joke` commands, respectively. ‚ÑπÔ∏è
*   **Interactive Chat:** The bot can handle general conversations, providing caring and helpful responses using the Gemini AI, if a message doesn't start with a command.

## Project Structure

```
Tg-bot/
‚îú‚îÄ‚îÄ index.js          # Main entry point of the bot
‚îú‚îÄ‚îÄ data_store.js     # Handles user data storage (chat IDs)
‚îú‚îÄ‚îÄ gemini.js         # Handles Gemini AI interactions
‚îú‚îÄ‚îÄ weather.js        # Fetches and formats weather data
‚îú‚îÄ‚îÄ package.json      # Project dependencies and scripts
‚îú‚îÄ‚îÄ railway.json      # Railway app configuration (if applicable)
‚îî‚îÄ‚îÄ user_data.json    # Stores user data (chat IDs)
```

## Contributing

Contributions are welcome! Please follow these steps:

1.  Fork the repository.
2.  Create a new branch for your feature or bug fix.
3.  Make your changes and commit them with descriptive messages.
4.  Push your changes to your fork.
5.  Submit a pull request.

## License

This project is licensed under the ISC License - see the [LICENSE](https://opensource.org/licenses/ISC) file for details.

## Footer

*   **Repository Name:** Tg-bot
*   **Repository URL:** [https://github.com/gwjq62862/Tg-bot](https://github.com/gwjq62862/Tg-bot)
*   **Author:** gwjq62862
*   **Contact:** (No contact information provided)

‚≠êÔ∏è Give a star! Fork the project! Create Issues!


---
**<p align="center">Generated by [ReadmeCodeGen](https://www.readmecodegen.com/)</p>**
